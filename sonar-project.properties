# Configuration SonarCloud pour le projet Dyad
# Documentation: https://docs.sonarcloud.io/advanced-setup/analysis-parameters/

# Informations du projet
sonar.projectKey=dyad-sh_dyad
sonar.organization=dyad-sh
sonar.projectName=dyad
sonar.projectVersion=0.20.0-beta.1

# Description du projet
sonar.projectDescription=Free, local, open-source AI app builder

# Répertoires sources et tests
sonar.sources=src
sonar.tests=src/__tests__,e2e-tests
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx

# Exclusions
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/out/**,**/coverage/**,**/*.d.ts,**/worker/**,**/workers/**,**/scaffold/**,**/packages/**,**/testing/**,**/tools/**,**/scripts/**,**/drizzle/**,**/snapshots/**

# Configuration TypeScript/JavaScript
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Configuration des règles de qualité
sonar.qualitygate.wait=true

# Configuration pour Electron
sonar.javascript.file.suffixes=.js,.jsx,.ts,.tsx
sonar.typescript.file.suffixes=.ts,.tsx

# Configuration des duplications
sonar.cpd.javascript.minimumtokens=100
sonar.cpd.typescript.minimumtokens=100

# Configuration de la complexité
sonar.javascript.complexity.threshold=15
sonar.typescript.complexity.threshold=15

# Configuration des tests
sonar.testExecutionReportPaths=test-results.xml

# Configuration de la sécurité
sonar.security.hotspots.includeAllFiles=true

# Configuration des performances
sonar.javascript.file.suffixes=.js,.jsx,.ts,.tsx
sonar.typescript.file.suffixes=.ts,.tsx

# Configuration des métriques
sonar.javascript.metrics.includeAllFiles=true
sonar.typescript.metrics.includeAllFiles=true

# Configuration des règles personnalisées
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignorer les fichiers de configuration
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1128
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.config.*

# Ignorer les fichiers de test dans les métriques de complexité
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.test.*,**/*.spec.*

# Ignorer les fichiers de migration
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S1118
sonar.issue.ignore.multicriteria.e3.resourceKey=**/drizzle/**
